<!DOCTYPE html>
<html>
  <head>
 
    <base target="_top">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.3/jquery.min.js"></script>
    
    <link rel="stylesheet" href="https://fonts.googleapis.com/icon?family=Material+Icons">
<link rel="stylesheet" href="https://code.getmdl.io/1.3.0/material.blue_grey-orange.min.css" />
<script defer src="https://code.getmdl.io/1.3.0/material.min.js"></script>
    
    <?!= include('style'); ?>
     <?!= include('workflowDialogue_style'); ?>
  </head>
  
  <body>
  
   <button class="mdl-button mdl-js-button mdl-button--fab mdl-button show-modal" id="newWorkflow" value="newWorkflow">
  <i class="material-icons">settings</i>
  </button>
  <div class="mdl-tooltip" for="fabplus">New workflow</div>
  
  <!-- The drawer is always open in large screens. The header is always shown,
  even in small screens. -->
<div class="mdl-layout mdl-js-layout mdl-layout--fixed-drawer
            mdl-layout--fixed-header">
  <header class="mdl-layout__header">
    <div class="mdl-layout__header-row">
     <span class="mdl-layout-title"></span>
      <div class="mdl-layout-spacer"></div>
      <div class="mdl-textfield mdl-js-textfield mdl-textfield--expandable
                  mdl-textfield--floating-label mdl-textfield--align-right">
        <label class="mdl-button mdl-js-button mdl-button--icon"
               for="fixed-header-drawer-exp">
          <i class="material-icons">search</i>
        </label>
        <div class="mdl-textfield__expandable-holder">
          <input class="mdl-textfield__input" type="text" name="sample"
                 id="fixed-header-drawer-exp">
        </div>
      </div>
    </div>
  </header>
 
<!-- Sidebar with choice of protocols --> 
  <div class="mdl-layout__drawer">
    <span class="mdl-layout-title">Types of Workflow</span>
    <nav class="mdl-navigation" id="typesOfWorkflow">
      <a class="mdl-navigation__link workflow" value="arrival"><i class="material-icons">flight_land</i>&nbsp;&nbsp;Arrivals</a>
      <a class="mdl-navigation__link workflow" value="leaver"><i class="material-icons">flight_takeoff</i>&nbsp;&nbsp;Leavers</a>
      <a class="mdl-navigation__link workflow" value="trip"><i class="material-icons">airport_shuttle</i>&nbsp;&nbsp;Trips</a>
    </nav>
     
      
     
  </div>
  <main class="mdl-layout__content">
    <div class="page-content"><!-- Your content goes here -->
  
 
   <br>
  <button class = "mdl-button mdl-js-button mdl-button--raised mdl-button--accent" id ="tasks">View Tasks</button>&nbsp;&nbsp;
  <button id ="backhome" class="page2button mdl-button mdl-js-button mdl-button--raised"> <i class="material-icons">arrow_back</i></button>&nbsp;&nbsp;
  <button id ="update" class = "page2button mdl-button mdl-js-button mdl-button--raised mdl-button--accent">Save</button>&nbsp;&nbsp;
       <div class="mdl-tooltip" for="update">Save changes<br>and email team the task list</div>
    <button class="page2button mdl-button mdl-js-button mdl-button--raised mdl-button--colored" id ="archive" >Archive</button>
       <div class="mdl-tooltip" for="archive">Save and remove from list</div>
   
 
  <button class="mdl-button mdl-js-button mdl-button--fab mdl-button--colored" id="fabplus">
  <i class="material-icons">add</i>
  </button>
  <div class="mdl-tooltip" for="fabplus">Add to list</div>
  
 

  
  <div class="page" id="page1">
  
    <div class='header'><h5>Select <span id="workflow_type"></span></h5></div>
     <form id="listofusers" class="user-list-item">
      <div  id="user-on-list">
        <input type="radio" id="list-option-1" name="username"/>&nbsp;&nbsp;<span class="user-name">List</span>
       </div>
     </form>
     
  </div>



<!-- task list -->
  <div class="page" id="page2"> 
  <br>
  
  <div class="demo-card-square mdl-card mdl-shadow--2dp work template" id="workflowCard_template">
  <div class="mdl-card__title mdl-card--expand "></div>
  <div class="mdl-card__supporting-text cardText"></div>
    <div class="mdl-card__actions mdl-card--border">
    <a class="mdl-button mdl-button--colored mdl-js-button mdl-js-ripple-effect viewTasksButton">View Tasks</a>
    </div>
  </div>
  
  <div id="cards"></div>

  <input type="text" id="myInput" onkeyup="myFunction()" placeholder="Search for tasks...">
  <br>
  
     <h5><span id="studentName"></span></h5>
     <h6><span id="yearGroup"></span>&nbsp;&nbsp;<span id="enrollmentDate"></span></h6> 
     <div id="workFlow_info"></div>
     <table class="mdl-data-table mdl-js-data-table mdl-data-table--selectable mdl-shadow--2dp taskTable" id = "taskTableTemplate">
      <thead><tr><th class="taskDesc" class="mdl-data-table__cell--non-numeric">Task</th><th class="taskResp" class="mdl-data-table__cell--non-numeric">Responsibility</th><th class="taskResp" class="mdl-data-table__cell--non-numeric">Completed by</th></tr></thead>
      <tbody id="output"></tbody>
     </table>
    
  </div>
  
  
<!-- adding new student or leaver form -->
   <div class="page" id="page3">
   
    <form id="workflowForm">
   
     <input class="create" type="button" value="Submit" id="submitNewWorkflowButton" />
    </form>
   
  <button id ="close" class="mdl-button mdl-js-button mdl-button--icon"> <i class="material-icons">close</i></button>
   
  <h5>Add user to list:</h5>
    <form id="myForm">
    First name:&nbsp;<input class="studentForm" name="firstName" type="text" size="20" /><br><br>
    Second name:&nbsp;<input class="studentForm" name="secondName" type="text" size="20" /><br><br>
    Category of user:&nbsp;<select id = "userType" name="userType">&nbsp;
  <option>Select...</option>
  <option value="I">Lower School student</option>
  <option value="G">Upper School student</option>
  <option value="E">Lower School staff</option>
  <option value="C">Upper School staff</option>
   </select><br><br>
    Year group:&nbsp;<select id = "yearGroup" name="yearGroup">&nbsp;
  <option>Select...</option>
  <option value="yrK">yrK</option>
  <option value="yrR">yrR</option>
  <option value="yr1">yr1</option>
  <option value="yr2">yr2</option>
  <option value="yr3">yr3</option>
  <option value="yr4">yr4</option>
  <option value="yr5">yr5</option>
  <option value="yr6">yr6</option>
  <option value="M1">M1</option>
  <option value="M2">M2</option>
  <option value="M3">M3</option>
  <option value="M4">M4</option>
  <option value="M5">M5</option>
  <option value="D1">D1</option>
  <option value="D2">D2</option>
  <option value="Staff">Staff</option>
  
   </select><br><br>
  
     Enrollment / Leaving date:
  <input type="date" name="enrollmentDate"><br><br>
 
   
   <input class="create" type="button" value="Submit" id="newStudentSubmit" />
    </form>
   
   
     </div>
   
   
   
    </div>
    
    <div id="demo-toast-example" class="mdl-js-snackbar mdl-snackbar">
     <div class="mdl-snackbar__text"></div>
     <button class="mdl-snackbar__action" type="button"></button>
    </div> 
    
  </main>
</div>  


<dialog class="mdl-dialog" id="newWorkflowdialogue">
  <div class="mdl-dialog__title">Workflow setup</div>
    <div class="mdl-dialog__content">
    
    <i type="button" class="close material-icons">close</i>
      
      <div class = "newWorkflowdialoguePage firstPage" id = "workflowdialogue_page1_type">
         <h5>Choose type of workflow</h5>
           <select id="workflowList">
           
           </select>
      </div>
       
     <div class = "newWorkflowdialoguePage" id = "workflowdialogue_page2_form">
        <div id="workflowType_title"></div>  
          <form id="myForm2" >
            <label>Workflow Name</label><input id="workflowName" class="mdl-textfield__input" type="text" size="200" name = "workflow_name" /><br>
            <input class="create" type="button" value="Submit" id="newStudentSubmit" />
            <div id="workflowFormFields"></div>
          </form>
     </div>
     
     <div class = "newWorkflowdialoguePage" id = "workflowdialogue_page3_Newform">
        
          <form id="workflowFormDialogueEdit" class="new_form"> 
           <label>Workflow Type name</label><input id="workflowType" class="mdl-textfield__input" type="text" size="200" name = "workflow_type" /><br>
           
           <p class="instructions">Select sheet in spreadsheet of tasks and responsibilities for this workflow</p> 
         <select class="mdl-selectfield__select" id="tasksSheet" name = "tasks_sheetName">
           </select><br><br>
           
            <p class="instructions">For Options fields, enter 'Text' for text, 'Date' for date and comma separated list for drop down list</p><br> 
                <div class = "workflowEntry">
                  <label>Description</label><input class="mdl-textfield__input entryDescription" type="text" size="40" name= "entry_description" />
                  <label>Options</label><input class="mdl-textfield__input entryOption" type="text" size="40" name= "entry_options" /><br>
                </div>
                <div id="formEntryFields"></div>
            
         </form>
         <div class="entryButton">
         <button id ="addEntry" class = "mdl-button mdl-js-button mdl-button--raised mdl-button--accent">Add entry</button> 
         <button id ="removeEntry" class = "mdl-button mdl-js-button mdl-button--raised mdl-button">Remove entry</button>
         </div>
     </div>
     
     <div class = "newWorkflowdialoguePage lastPage" id = "workflowdialogue_page4_delete">
          <h5><span>Delete workflow type</span>&nbsp;<span class="workflowFormName"></span></h5>
        <p class="instructions">This will permanently delete this type of workflow. All previous workflows of this type will be preserved.</p> 
          <input class="create" type="button" value="Delete" id="deleteWorkflow" />
     </div>
   
    </div>
    <div class="mdl-dialog__actions mdl-dialog__actions--full-width navBar">
     <button type="button" class="mdl-button back">Back</button>
      <button type="button" class="mdl-button next">Next</button>
       <button type="button" class="mdl-button createWorkFlow">Submit</button> 
     
    </div>
  </dialog>
  
  <dialog class="mdl-dialog" id="tasklistdialogue">
   <div class="mdl-dialog__title">Workflow Tasks</div>
    <div class="mdl-dialog__content">
      <i type="button" class="close material-icons">close</i>
    lots of tasks!
    </div>
   </dialog>
  
  
  <?!= HtmlService.createHtmlOutputFromFile('workflowDialogue_JS').getContent(); ?> 
 </body>
</html>

 <?!= HtmlService.createHtmlOutputFromFile('checklist_JS').getContent(); ?> 